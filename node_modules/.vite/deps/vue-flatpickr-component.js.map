{
  "version": 3,
  "sources": ["../../vue-flatpickr-component/dist/esm/events.js", "../../vue-flatpickr-component/dist/esm/util.js", "../../vue-flatpickr-component/dist/esm/component.js", "../../vue-flatpickr-component/dist/esm/index.js"],
  "sourcesContent": ["const includedEvents = [\n    'onChange',\n    'onClose',\n    'onDestroy',\n    'onMonthChange',\n    'onOpen',\n    'onYearChange',\n];\n// Let's not emit these events by default\nconst excludedEvents = [\n    'onValueUpdate',\n    'onDayCreate',\n    'onParseConfig',\n    'onReady',\n    'onPreCalendarPosition',\n    'onKeyDown',\n];\nexport { includedEvents, excludedEvents };\n", "function camelToKebab(string) {\n    return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\nfunction arrayify(obj) {\n    return obj instanceof Array\n        ? obj\n        : [obj];\n}\nfunction nullify(value) {\n    return (value && value.length)\n        ? value\n        : null;\n}\nexport { camelToKebab, nullify, arrayify };\n", "import flatpickr from 'flatpickr';\nimport { defineComponent, h, nextTick } from 'vue';\nimport { excludedEvents, includedEvents } from './events';\nimport { camelToKebab, nullify, arrayify } from './util';\n// Keep a copy of all events for later use\nconst allEvents = [...includedEvents, ...excludedEvents];\n// Passing these properties in `fp.set()` method will cause flatpickr to trigger some callbacks\nconst configCallbacks = ['locale', 'showMonths'];\nexport default defineComponent({\n    name: 'FlatPickr',\n    compatConfig: {\n        MODE: 3,\n    },\n    render() {\n        return h('input', {\n            type: 'text',\n            'data-input': true,\n            disabled: this.disabled,\n            onInput: this.onInput,\n        });\n    },\n    emits: [\n        'blur',\n        'update:modelValue',\n        ...allEvents.map(camelToKebab)\n    ],\n    props: {\n        modelValue: {\n            type: [String, Number, Date, Array, null],\n            required: true,\n        },\n        // https://flatpickr.js.org/options/\n        config: {\n            type: Object,\n            default: () => ({\n                defaultDate: null,\n                wrap: false,\n            })\n        },\n        events: {\n            type: Array,\n            default: () => includedEvents\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n    },\n    data() {\n        return {\n            fp: null, //todo make it non-reactive\n        };\n    },\n    mounted() {\n        // Return early if flatpickr is already loaded\n        /* istanbul ignore if */\n        if (this.fp)\n            return;\n        // Init flatpickr\n        this.fp = flatpickr(this.getElem(), this.prepareConfig());\n        // Attach blur event\n        this.fpInput().addEventListener('blur', this.onBlur);\n        // Immediate watch will fail before fp is set,\n        // so we need to start watching after mount\n        this.$watch('disabled', this.watchDisabled, {\n            immediate: true\n        });\n    },\n    methods: {\n        prepareConfig() {\n            // Don't mutate original object on parent component\n            let safeConfig = Object.assign({}, this.config);\n            this.events.forEach((hook) => {\n                // Respect global callbacks registered via setDefault() method\n                let globalCallbacks = flatpickr.defaultConfig[hook] || [];\n                // Inject our own method along with user's callbacks\n                let localCallback = (...args) => {\n                    this.$emit(camelToKebab(hook), ...args);\n                };\n                // Overwrite with merged array\n                safeConfig[hook] = arrayify(safeConfig[hook] || []).concat(globalCallbacks, localCallback);\n            });\n            const onCloseCb = this.onClose.bind(this);\n            safeConfig['onClose'] = arrayify(safeConfig['onClose'] || []).concat(onCloseCb);\n            // Set initial date without emitting any event\n            safeConfig.defaultDate = this.modelValue || safeConfig.defaultDate;\n            return safeConfig;\n        },\n        /**\n         * Get the HTML node where flatpickr to be attached\n         * Bind on parent element if wrap is true\n         */\n        getElem() {\n            return this.config.wrap ? this.$el.parentNode : this.$el;\n        },\n        /**\n         * Watch for value changed by date-picker itself and notify parent component\n         */\n        onInput(event) {\n            const input = event.target;\n            // Let's wait for DOM to be updated\n            nextTick().then(() => {\n                this.$emit('update:modelValue', nullify(input.value));\n            });\n        },\n        fpInput() {\n            return this.fp.altInput || this.fp.input;\n        },\n        /**\n         * Blur event is required by many validation libraries\n         */\n        onBlur(event) {\n            this.$emit('blur', nullify(event.target.value));\n        },\n        /**\n         * Flatpickr does not emit input event in some cases\n         */\n        onClose(selectedDates, dateStr) {\n            this.$emit('update:modelValue', dateStr);\n        },\n        /**\n         * Watch for the disabled property and sets the value to the real input.\n         */\n        watchDisabled(newState) {\n            if (newState) {\n                this.fpInput().setAttribute('disabled', '');\n            }\n            else {\n                this.fpInput().removeAttribute('disabled');\n            }\n        }\n    },\n    watch: {\n        /**\n         * Watch for any config changes and redraw date-picker\n         */\n        config: {\n            deep: true,\n            handler(newConfig) {\n                if (!this.fp)\n                    return;\n                let safeConfig = Object.assign({}, newConfig);\n                // Workaround: Don't pass hooks to configs again otherwise\n                // previously registered hooks will stop working\n                // Notice: we are looping through all events\n                // This also means that new callbacks can not be passed once component has been initialized\n                allEvents.forEach((hook) => {\n                    delete safeConfig[hook];\n                });\n                this.fp.set(safeConfig);\n                // Workaround: Allow to change locale dynamically\n                configCallbacks.forEach((name) => {\n                    if (typeof safeConfig[name] !== 'undefined') {\n                        this.fp.set(name, safeConfig[name]);\n                    }\n                });\n            }\n        },\n        /**\n         * Watch for changes from parent component and update DOM\n         */\n        modelValue(newValue) {\n            var _a;\n            // Prevent updates if v-model value is same as input's current value\n            if (!this.$el || newValue === nullify(this.$el.value))\n                return;\n            // Notify flatpickr instance that there is a change in value\n            (_a = this.fp) === null || _a === void 0 ? void 0 : _a.setDate(newValue, true);\n        }\n    },\n    beforeUnmount() {\n        /* istanbul ignore else */\n        if (!this.fp)\n            return;\n        this.fpInput().removeEventListener('blur', this.onBlur);\n        this.fp.destroy();\n        this.fp = null;\n    }\n});\n", "import Component from './component';\nexport default Component;\n"],
  "mappings": "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",
  "names": ["esm_default"]
}
